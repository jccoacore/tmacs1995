<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Send Consent Email</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">

  <style>
    body {
      font-family: Arial, Helvetica, sans-serif;
      background: #f4f6f8;
      margin: 0;
      padding: 0;
    }

    .container {
      min-height: 100vh;
      display: flex;
      align-items: center;
      justify-content: center;
      padding: 20px;
    }

    .card {
      background: #ffffff;
      max-width: 580px;
      width: 100%;
      padding: 28px;
      border-radius: 10px;
      box-shadow: 0 4px 12px rgba(0,0,0,0.12);
    }

    h1 {
      text-align: center;
      font-size: 22px;
      margin-bottom: 18px;
      color: #202124;
    }

    label {
      font-size: 14px;
      font-weight: bold;
      display: block;
      margin-top: 12px;
    }

    input, select {
      width: 100%;
      padding: 10px;
      margin-top: 6px;
      font-size: 14px;
      border-radius: 4px;
      border: 1px solid #ccc;
    }

    .btn {
      margin-top: 18px;
      width: 100%;
      padding: 14px;
      background: #1a73e8;
      color: #ffffff;
      border: none;
      border-radius: 6px;
      font-size: 16px;
      font-weight: bold;
      cursor: pointer;
    }

    .btn.secondary {
      background: #5f6368;
      margin-top: 10px;
    }

    .btn:hover {
      opacity: 0.9;
    }

    .note {
      margin-top: 14px;
      font-size: 13px;
      color: #555;
      text-align: center;
    }

    textarea {
      width: 100%;
      margin-top: 12px;
      font-size: 13px;
      padding: 10px;
      border-radius: 4px;
      border: 1px solid #ccc;
      display: none;
    }
  </style>
</head>

<body>
<div class="container">
  <div class="card">

    <h1>Send Consent Email</h1>

    <label>Block</label>
    <select id="block">
      <option value="">Select Block</option>
      <option>A</option><option>B</option><option>C</option>
      <option>D</option><option>E</option><option>F</option>
      <option>G</option><option>H</option><option>I</option>
      <option>J</option><option>K</option>
    </select>

    <label>Flat Number</label>
    <input id="flat" type="text" placeholder="Numbers only">

    <label>Full Name</label>
    <input id="name" type="text" placeholder="Alphabets only">

    <label>Email</label>
    <input id="email" type="email" placeholder="example@email.com">

    <label>Mobile Number</label>
    <input id="mobile" type="text" placeholder="+CountryCodeMobileNumber">

    <button class="btn" onclick="openEmail()">Open Email App</button>
    <button class="btn secondary" onclick="copySubject()">Copy Subject</button>
    <button class="btn secondary" onclick="copyEmail()">Copy Email Content</button>

    <textarea id="preview" rows="14" readonly></textarea>

    <div class="note">
      If your computer/Mobile does not have an email app configured:
      <br>1) Copy the <strong>Subject</strong>
      <br>2) Copy the <strong>Email Content</strong>
      <br>3) Paste into Gmail / Outlook and send
      <br><br>
      This page does not store or transmit any information.
    </div>

  </div>
</div>

<script>
function validateInputs() {
  const block = document.getElementById("block").value;
  const flat = document.getElementById("flat").value.trim();
  const name = document.getElementById("name").value.trim();
  const email = document.getElementById("email").value.trim();
  const mobileRaw = document.getElementById("mobile").value.trim();
  const mobile = mobileRaw.replace(/[\s\-]/g, "");

  if (!block) return alert("Please select a Block.");
  if (!/^[0-9]+$/.test(flat)) return alert("Flat number must contain only numbers.");
  if (!/^[A-Za-z ]+$/.test(name)) return alert("Name must contain only alphabets and spaces.");
  if (!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(email)) return alert("Please enter a valid email.");
  if (!/^\+?[0-9]{7,15}$/.test(mobile))
    return alert("Please enter a valid mobile number (with country code if applicable).");

  return { block, flat, name, email, mobile };
}

function buildSubject(data) {
  return `[JCC-${data.block}-${data.flat}] Confirmation of our intention to join society under TMACS Act, 1995`;
}

function buildBody(data, subject) {
  return `Subject: ${subject}

To
The President
Jain’s Carlton Creek Flat Owners Association society, Reg No 1132/2015

Sir,

Sub: Confirmation of our intention to join in the society to be formed under Telangana Mutually Aided Co-operative Societies Act, 1995 (TMACS) but not under The Telangana Co-Operative Societies Act, 1964

I am the owner of Flat No. ${data.flat} in ${data.block} Block. I know that the General Body of the Association passed a resolution on 7th December 2025 to register a society under Telangana Mutually Aided Co-operative Societies (TMACS) Act, 1995 as the same is desirable. I fully endorse the GBM resolution dated 7th December 2025 of Jain's Carlton Creek Flat Owners Association society, Reg No 1132/2015 and I couldn’t attend the GBM personally dated 7th December 2025.

I know that certain persons to create trouble have registered a society Jains Carlton Creek Flat Owners Maintenance Cooperative Society Limited (JCCFOMCSL), Reg No: TG/RRD/TCS/2025-62/FOW & M under The Telangana Co-Operative Societies Act, 1964, which has no approval of the General Body and majority of the flat owners. I have no intention to join the society Jains Carlton Creek Flat Owners Maintenance Cooperative Society Limited (JCCFOMCSL), Reg No: TG/RRD/TCS/2025-62/FOW & M registered under The Telangana Co-Operative Societies Act, 1964. I am aware that it is desirable to register and operate under the Telangana Mutually Aided Co-operative Societies (TMACS) Act, 1995 as the same will be beneficial with less interference from the concerned authorities.

Kindly, take on record my consent for registration of society under Telangana Mutually Aided Co-operative Societies (TMACS) Act, 1995.

Yours Faithfully,

Name: ${data.name}
Flat No: ${data.flat}
Block: ${data.block}
Email: ${data.email}
Mobile: ${data.mobile}`;
}

function openEmail() {
  const data = validateInputs();
  if (!data) return;

  const subject = buildSubject(data);
  const body = buildBody(data, subject);

  const mailto =
    "mailto:jccoa.core@gmail.com" +
    "?subject=" + encodeURIComponent(subject) +
    "&body=" + encodeURIComponent(body);

  window.location.href = mailto;
}

function copySubject() {
  const data = validateInputs();
  if (!data) return;

  const subject = buildSubject(data);
  navigator.clipboard.writeText(subject).then(() => {
    alert("Subject copied. Paste it into the email Subject field.");
  });
}

function copyEmail() {
  const data = validateInputs();
  if (!data) return;

  const subject = buildSubject(data);
  const body = buildBody(data, subject);

  const fullText =
`To: jccoa.core@gmail.com
${body}`;

  navigator.clipboard.writeText(fullText).then(() => {
    alert("Email content copied. Paste it into Gmail or Outlook.");
    document.getElementById("preview").style.display = "block";
    document.getElementById("preview").value = fullText;
  });
}
</script>

</body>
</html>
